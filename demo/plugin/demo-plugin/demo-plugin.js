(function(u,f){typeof exports=="object"&&typeof module<"u"?module.exports=f():typeof define=="function"&&define.amd?define(f):(u=typeof globalThis<"u"?globalThis:u||self,u.RevealDemoPlugin=f())})(this,function(){"use strict";var V=Object.defineProperty;var W=(u,f,b)=>f in u?V(u,f,{enumerable:!0,configurable:!0,writable:!0,value:b}):u[f]=b;var c=(u,f,b)=>W(u,typeof f!="symbol"?f+"":f,b);var u=typeof document<"u"?document.currentScript:null;function f(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var b,v;function A(){if(v)return b;v=1;var l=function(r){return e(r)&&!t(r)};function e(n){return!!n&&typeof n=="object"}function t(n){var r=Object.prototype.toString.call(n);return r==="[object RegExp]"||r==="[object Date]"||d(n)}var o=typeof Symbol=="function"&&Symbol.for,i=o?Symbol.for("react.element"):60103;function d(n){return n.$$typeof===i}function p(n){return Array.isArray(n)?[]:{}}function h(n,r){return r.clone!==!1&&r.isMergeableObject(n)?S(p(n),n,r):n}function g(n,r,s){return n.concat(r).map(function(m){return h(m,s)})}function y(n,r){if(!r.customMerge)return S;var s=r.customMerge(n);return typeof s=="function"?s:S}function $(n){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n).filter(function(r){return Object.propertyIsEnumerable.call(n,r)}):[]}function E(n){return Object.keys(n).concat($(n))}function M(n,r){try{return r in n}catch{return!1}}function q(n,r){return M(n,r)&&!(Object.hasOwnProperty.call(n,r)&&Object.propertyIsEnumerable.call(n,r))}function z(n,r,s){var m={};return s.isMergeableObject(n)&&E(n).forEach(function(a){m[a]=h(n[a],s)}),E(r).forEach(function(a){q(n,a)||(M(n,a)&&s.isMergeableObject(r[a])?m[a]=y(a,s)(n[a],r[a],s):m[a]=h(r[a],s))}),m}function S(n,r,s){s=s||{},s.arrayMerge=s.arrayMerge||g,s.isMergeableObject=s.isMergeableObject||l,s.cloneUnlessOtherwiseSpecified=h;var m=Array.isArray(r),a=Array.isArray(n),B=m===a;return B?m?s.arrayMerge(n,r,s):z(n,r,s):h(r,s)}S.all=function(r,s){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(m,a){return S(m,a,s)},{})};var N=S;return b=N,b}var I=A();const P=f(I),R=()=>{const l=typeof window<"u",e=typeof document<"u",t=l&&typeof location<"u"&&/localhost|127\.0\.0\.1/.test(location.hostname);let o=!1;try{o=new Function('return typeof module !== "undefined" && !!module.hot')()}catch{}let i=!1;try{i=new Function('return typeof import.meta !== "undefined" && typeof import.meta.env !== "undefined" && import.meta.env.DEV === true')()}catch{}const d=l&&typeof navigator<"u"&&/vite|localhost|127\.0\.0\.1/.test(location.origin)&&/AppleWebKit|Chrome|Vite/.test(navigator.userAgent),p=e&&!!document.querySelector('script[type="module"]');let h=!1;try{h=new Function('return typeof process !== "undefined" && process.env && (process.env.ROLLUP_WATCH === "true" || process.env.NODE_ENV === "development")')()}catch{}let g=!1;try{g=new Function('return typeof define === "function" && !!define.amd')()}catch{}return{isDevServer:t,isWebpackHMR:o,isVite:i,isVitePreview:d,hasModuleScripts:p,isModuleBundler:h,isAMD:g,isBundlerEnvironment:o||i||d||p||h||g||t}};class T{constructor(e,t,o){c(this,"defaultConfig");c(this,"pluginInit");c(this,"pluginId");c(this,"mergedConfig",null);c(this,"userConfigData",null);c(this,"data",{});c(this,"getEnvironmentInfo",()=>R());typeof e=="string"?(this.pluginId=e,this.pluginInit=t,this.defaultConfig=o||{}):(this.pluginId=e.id,this.pluginInit=e.init,this.defaultConfig=e.defaultConfig||{})}initializeConfig(e){const t=this.defaultConfig,i=e.getConfig()[this.pluginId]||{};this.userConfigData=i,this.mergedConfig=P(t,i,{arrayMerge:(d,p)=>p,clone:!0})}getCurrentConfig(){if(!this.mergedConfig)throw new Error("Plugin configuration has not been initialized");return this.mergedConfig}getData(){return Object.keys(this.data).length>0?this.data:void 0}get userConfig(){return this.userConfigData||{}}init(e){if(this.initializeConfig(e),this.pluginInit)return this.pluginInit(this,e,this.getCurrentConfig())}createInterface(e={}){return{id:this.pluginId,init:o=>this.init(o),getConfig:()=>this.getCurrentConfig(),getData:()=>this.getData(),...e}}}const D=l=>{const e=document.querySelector(`script[src$="${l}.js"], script[src$="${l}.min.js"], script[src$="${l}.mjs"]`);if(e!=null&&e.src){const t=e.getAttribute("src")||"",o=t.lastIndexOf("/");if(o!==-1)return t.substring(0,o+1)}try{if(typeof{url:typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:u&&u.tagName.toUpperCase()==="SCRIPT"&&u.src||new URL("demo-plugin/demo-plugin.js",document.baseURI).href}<"u"&&(typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:u&&u.tagName.toUpperCase()==="SCRIPT"&&u.src||new URL("demo-plugin/demo-plugin.js",document.baseURI).href))return(typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:u&&u.tagName.toUpperCase()==="SCRIPT"&&u.src||new URL("demo-plugin/demo-plugin.js",document.baseURI).href).slice(0,(typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:u&&u.tagName.toUpperCase()==="SCRIPT"&&u.src||new URL("demo-plugin/demo-plugin.js",document.baseURI).href).lastIndexOf("/")+1)}catch{}return`plugin/${l}/`},j="data-css-id",U=(l,e)=>new Promise((t,o)=>{const i=document.createElement("link");i.rel="stylesheet",i.href=e,i.setAttribute(j,l);const d=setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i),o(new Error(`[${l}] Timeout loading CSS from: ${e}`))},5e3);i.onload=()=>{clearTimeout(d),t()},i.onerror=()=>{clearTimeout(d),i.parentNode&&i.parentNode.removeChild(i),o(new Error(`[${l}] Failed to load CSS from: ${e}`))},document.head.appendChild(i)}),L=l=>document.querySelectorAll(`[${j}="${l}"]`).length>0,_=async l=>{const{id:e,cssautoload:t=!0,csspath:o="",debug:i=!1}=l;if(t===!1||o===!1)return;if(L(e)){i&&console.log(`[${e}] CSS already loaded, skipping`);return}const d=[];typeof o=="string"&&o.trim()!==""&&d.push(o);const p=D(e);if(p){const g=`${p}${e}.css`;d.push(g)}const h=`plugin/${e}/${e}.css`;d.push(h);for(const g of d)try{await U(e,g);let y="CSS";o&&g===o?y="user-specified CSS":p&&g===`${p}${e}.css`?y="CSS (auto-detected from script location)":y="CSS (standard fallback)",i&&console.log(`[${e}] ${y} loaded successfully from: ${g}`);return}catch{i&&console.log(`[${e}] Failed to load CSS from: ${g}`)}console.warn(`[${e}] Could not load CSS from any location`)};class x{constructor(){c(this,"debugMode",!1);c(this,"label","DEBUG");c(this,"groupDepth",0);c(this,"group",(...e)=>{this.debugLog("group",...e),this.groupDepth++});c(this,"groupCollapsed",(...e)=>{this.debugLog("groupCollapsed",...e),this.groupDepth++});c(this,"groupEnd",()=>{this.groupDepth>0&&(this.groupDepth--,this.debugLog("groupEnd"))});c(this,"error",(...e)=>{const t=this.debugMode;this.debugMode=!0,this.formatAndLog(console.error,e),this.debugMode=t});c(this,"table",(e,t,o)=>{if(this.debugMode)try{typeof e=="string"&&t!==void 0&&typeof t!="string"?(this.groupDepth===0?console.log(`[${this.label}]: ${e}`):console.log(e),o?console.table(t,o):console.table(t)):(this.groupDepth===0&&console.log(`[${this.label}]: Table data`),typeof t=="object"&&Array.isArray(t)?console.table(e,t):console.table(e))}catch(i){console.error(`[${this.label}]: Error showing table:`,i),console.log(`[${this.label}]: Raw data:`,e)}});c(this,"formatAndLog",(e,t)=>{if(this.debugMode)try{this.groupDepth>0?e.call(console,...t):t.length>0&&typeof t[0]=="string"?e.call(console,`[${this.label}]: ${t[0]}`,...t.slice(1)):e.call(console,`[${this.label}]:`,...t)}catch(o){console.error(`[${this.label}]: Error in logging:`,o),console.log(`[${this.label}]: Original log data:`,...t)}})}initialize(e,t="DEBUG"){this.debugMode=e,this.label=t}debugLog(e,...t){const o=console[e];if(!this.debugMode&&e!=="error"||typeof o!="function")return;const i=o;if(e==="group"||e==="groupCollapsed"){t.length>0&&typeof t[0]=="string"?i.call(console,`[${this.label}]: ${t[0]}`,...t.slice(1)):i.call(console,`[${this.label}]:`,...t);return}if(e==="groupEnd"){i.call(console);return}if(e==="table"){t.length===1?this.table(t[0]):t.length===2?typeof t[0]=="string"?this.table(t[0],t[1]):this.table(t[0],t[1]):t.length>=3&&this.table(t[0],t[1],t[2]);return}this.groupDepth>0?i.call(console,...t):t.length>0&&typeof t[0]=="string"?i.call(console,`[${this.label}]: ${t[0]}`,...t.slice(1)):i.call(console,`[${this.label}]:`,...t)}}const C=(l=>new Proxy(l,{get:(e,t)=>{if(t in e)return e[t];const o=t.toString();if(typeof console[o]=="function")return(...i)=>{e.debugLog(o,...i)}}}))(new x),O={demoOption:"default value",cssautoload:!0,csspath:"",debug:!1};class w{constructor(e,t){c(this,"deck");c(this,"options");this.deck=e,this.options=t,C.log("Demo plugin initialized with options:",t)}initialize(){C.log("Demo plugin initialized successfully");const e=document.createElement("div");e.className="demo-plugin-indicator",e.textContent="Demo Plugin Active",document.body.appendChild(e),C.log("Indicator element added")}static create(e,t){const o=new w(e,t);return o.initialize(),o}}const F=async(l,e,t)=>{C.initialize(t.debug,"demo-plugin");const o=l.getEnvironmentInfo();if(C.log("Environment:",o),t.cssautoload)try{await _({id:l.pluginId,cssautoload:t.cssautoload,csspath:t.csspath,debug:t.debug})}catch(i){C.warn("CSS loading failed, but plugin will continue:",i)}await w.create(e,t)};return()=>new T("demo-plugin",F,O).createInterface()});
